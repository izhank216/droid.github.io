<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>upload video - oldtube</title>
<style>
  body { font-family: arial, sans-serif; background-color:#f9f9f9; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; }
  header { background-color:#ff0000; color:#fff; padding:1rem; width:100%; text-align:center; font-size:1.5rem; font-weight:bold; }
  form { background-color:#fff; padding:2rem; margin-top:2rem; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1); width:300px; display:flex; flex-direction:column; gap:1rem; }
  input, textarea { padding:0.5rem; font-size:1rem; border:1px solid #ccc; border-radius:4px; width:100%; }
  button { padding:0.5rem; font-size:1rem; font-weight:bold; border:none; border-radius:4px; background-color:#ff0000; color:#fff; cursor:pointer; }
  a { text-decoration:none; color:#ff0000; margin-top:1rem; text-align:center; display:block; }
</style>
</head>
<body>

<header>upload video</header>

<form id="upload-form">
  <input type="text" id="username" placeholder="enter your name/username" required>
  <input type="text" id="title" placeholder="enter video title" required>
  <textarea id="description" placeholder="enter description (optional)"></textarea>
  <input type="file" id="video-file" accept="video/mp4" required>
  <button type="submit">upload</button>
</form>

<a href="oldtube.html">back to home</a>

<script>
document.getElementById('upload-form').addEventListener('submit', e => {
  e.preventDefault();
  const username = document.getElementById('username').value.trim();
  const title = document.getElementById('title').value.trim();
  const description = document.getElementById('description').value.trim();
  const fileInput = document.getElementById('video-file');
  const file = fileInput.files[0];

  if(!username || !title || !file) {
    return alert('please fill all required fields and select an mp4 file');
  }

  const url = URL.createObjectURL(file);

  // store uploaded videos in localStorage (optional)
  let uploaded = JSON.parse(localStorage.getItem('uploadedVideos') || '[]');
  uploaded.unshift({ username, title, description, url });
  localStorage.setItem('uploadedVideos', JSON.stringify(uploaded));

  alert(`video uploaded!\n${title} by ${username}`);

  // clear form
  e.target.reset();
});
</script>

</body>
</html>
